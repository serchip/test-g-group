# Тестовое задание на позицию Tech lead/Team lead

**Важно**

Перед тем как взять задание в работу, оцените его по времени и сообщите нам.

**Задание**
Необходимо разработать web-сервис для личных заметок.

*Основные функции:*
1. Регистрация - можно реализовать любым способом, включая самый простой по логину/паролю, который придумывает пользователь
В БД должно быть предусмотрено безопасное хранение пароля
2. Авторизация - можно использовать любой метод авторизации (куки, jwt)
3. Выход из системы (разлогиниться)
4. Создание заметок - по restfull протоколу POST
5. Редактирование заметок - по restfull протоколу PUT или PATCH
6. Удаление заметок - по restfull протоколу DELETE
7. Просмотр заметок с пагинацией - по restfull протоколу GET

*Бизнес-правила:*
1. Пользователь может видеть только свои заметки
2. CRUD операции заметок допускаются только для личных заметок
(эта заметка принадлежит пользователю;
зная id чужой заметки бэк все равно запрещает выполнение операций - возвращает 404)

*Стек технологий:*
1. Python
2. FastAPI + OpenAPI документация
3. PostgreSQL (или другая реляционная СУБД)
4. SQLAlchemy

*Дополнительно (необязательно):*
1. Упаковать в Docker-контейнер (написать Docker-файл)
2. Сделать Docker-Compose файл, в котором прописаны инструкции для
развертывания всего сервиса (бэк+бд)

## Комментарии:
На реализацию задачи потребовалось (вместе с тестами) 8 часов.

+ Плюсы +:
* попробовал в работе uvloop, если вкратце, то uvloop работает примерно в 2 раза быстрее Node.js и практически не уступает программам на Go.

![preview](/doc/uvloop.png)

- Минусы -:
* намудрил с числом обстракционных слоев, я бы переделал на 2 слоя вместо 3-х
* использование sqlalchemy orm, все же django ORM в разы легче в разработке (тем более в 4-й версии есть async/await )

## Решение:

![preview](/doc/web-api-run1.gif)

![preview](/doc/web-api-run2.gif)

![preview](/doc/web-api-run3.gif)

## How to run it locally

```bash
# Build and run docker containers
make build && make migrate && make start
```
OR
```bash
docker-compose up
```

Swagger at `http://127.0.0.1:8000/docs`.


## Run tests

```bash
make test
```

![preview](/doc/pytest.png)

## License
This piece of code is licensed under [MIT License](/LICENSE).
